<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeChat - AI-Powered Code Assistant</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Material Design Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Markdown and Syntax Highlighting Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.2/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- Top Header with Repository and LLM Selection -->
        <header class="top-header">
            <div class="header-content">
                <div class="header-left">
                    <button id="menuToggle" class="menu-toggle">
                        <i class="material-icons">menu</i>
                    </button>
                    <h1 class="app-title">
                        <i class="material-icons">code</i>
                        CodeChat
                    </h1>
                </div>
                
                <div class="header-center">
                    <!-- Repository Selection -->
                    <div class="selection-group">
                        <label for="repoSelect" class="selection-label">Repository</label>
                        <div class="select-wrapper">
                            <select id="repoSelect" class="material-select">
                                <option value="">All Repositories</option>
                                <!-- Repository options will be populated here -->
                            </select>
                            <i class="material-icons select-arrow">expand_more</i>
                        </div>
                    </div>
                    
                    <!-- LLM Provider Selection -->
                    <div class="selection-group">
                        <label for="llmSelect" class="selection-label">AI Model</label>
                        <div class="select-wrapper">
                            <select id="llmSelect" class="material-select">
                                <option value="bedrock-nova">Amazon Bedrock Nova</option>
                                <option value="openai-gpt4">OpenAI GPT-4</option>
                                <option value="claude">Anthropic Claude</option>
                                <option value="gemini">Google Gemini</option>
                                <option value="local">Local LLM</option>
                            </select>
                            <i class="material-icons select-arrow">expand_more</i>
                        </div>
                    </div>
                </div>
                
                <div class="header-right">
                    <button id="newChatBtn" class="new-chat-btn">
                        <i class="material-icons">add</i>
                        <span>New Chat</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Sidebar -->
            <nav id="sidebar" class="sidebar">
                <div class="sidebar-content">
                    <div class="sidebar-section">
                        <h3 class="sidebar-title">Recent Chats</h3>
                        <div class="chat-history" id="chatHistory">
                            <!-- Chat history will be populated here -->
                        </div>
                    </div>
                    
                    <div class="sidebar-footer">
                        <button id="clearHistoryBtn" class="clear-history-btn">
                            <i class="material-icons">delete_sweep</i>
                            Clear History
                        </button>
                    </div>
                </div>
            </nav>

            <!-- Main Chat Area -->
            <main class="main-content">
                <!-- Chat Container -->
                <div class="chat-container" id="chatContainer">
                    <!-- Welcome screen -->
                    <div class="welcome-screen" id="welcomeScreen">
                        <div class="welcome-content">
                            <div class="welcome-icon">
                                <i class="material-icons">smart_toy</i>
                            </div>
                            <h2>Welcome to CodeChat</h2>
                            <p>Your AI-powered code assistant. Ask questions about your repositories, get code explanations, or find specific functions and files.</p>
                            
                            <div class="example-prompts">
                                <h3>Try asking:</h3>
                                <div class="prompt-grid">
                                    <button class="example-prompt" data-prompt="Find the main function in the backend">
                                        <i class="material-icons">search</i>
                                        Find the main function in the backend
                                    </button>
                                    <button class="example-prompt" data-prompt="How does the authentication system work?">
                                        <i class="material-icons">security</i>
                                        How does authentication work?
                                    </button>
                                    <button class="example-prompt" data-prompt="Show me examples of API endpoints">
                                        <i class="material-icons">api</i>
                                        Show me API endpoints
                                    </button>
                                    <button class="example-prompt" data-prompt="Explain the database schema">
                                        <i class="material-icons">storage</i>
                                        Explain the database schema
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat messages will be appended here -->
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <div class="input-container">
                        <div class="input-wrapper">
                            <div class="input-field">
                                <textarea
                                    id="messageInput"
                                    placeholder="Ask me anything about your codebase..."
                                    rows="1"
                                    maxlength="4000"
                                ></textarea>
                                
                                <div class="input-actions">
                                    <button id="attachBtn" class="action-btn" title="Attach file">
                                        <i class="material-icons">attach_file</i>
                                    </button>
                                    
                                    <button id="sendBtn" class="send-btn" disabled title="Send message">
                                        <i class="material-icons">send</i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="input-footer">
                                <div class="character-count">
                                    <span id="charCount">0</span>/4000
                                </div>
                                
                                <div class="input-hint">
                                    <span>Press <kbd>Enter</kbd> to send, <kbd>Shift + Enter</kbd> for new line</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>